{"ast":null,"code":"\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar browser_buf_1 = __importDefault(require(\"./browser-buf\"));\n\nvar text_encoding_utf_8_1 = require(\"text-encoding-utf-8\");\n\nvar encoder = new text_encoding_utf_8_1.TextEncoder('utf-8');\nvar decoder = new text_encoding_utf_8_1.TextDecoder('utf-8');\n\nfunction encode(str) {\n  return new browser_buf_1.default(encoder.encode(str).buffer);\n}\n\nfunction decode(buffer, length) {\n  if (buffer instanceof browser_buf_1.default) {\n    return decoder.decode(buffer.readView(Math.min(length, buffer.length - buffer.position)));\n  } else {\n    // Copy the given buffer into a regular buffer and decode that\n    var tmpBuf = new browser_buf_1.default(length);\n\n    for (var i = 0; i < length; i++) {\n      tmpBuf.writeUInt8(buffer.readUInt8());\n    }\n\n    tmpBuf.reset();\n    return decoder.decode(tmpBuf.readView(length));\n  }\n}\n\nexports.default = {\n  encode: encode,\n  decode: decode\n};","map":{"version":3,"sources":["/Users/ericyangchen/Downloads/Ont/frontend/node_modules/neo4j-driver-bolt-connection/lib/channel/browser/browser-utf8.js"],"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","browser_buf_1","require","text_encoding_utf_8_1","encoder","TextEncoder","decoder","TextDecoder","encode","str","default","buffer","decode","length","readView","Math","min","position","tmpBuf","i","writeUInt8","readUInt8","reset"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIA,eAAe,GAAI,QAAQ,KAAKA,eAAd,IAAkC,UAAUC,GAAV,EAAe;AACnE,SAAQA,GAAG,IAAIA,GAAG,CAACC,UAAZ,GAA0BD,GAA1B,GAAgC;AAAE,eAAWA;AAAb,GAAvC;AACH,CAFD;;AAGAE,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAA7C;;AACA,IAAIC,aAAa,GAAGP,eAAe,CAACQ,OAAO,CAAC,eAAD,CAAR,CAAnC;;AACA,IAAIC,qBAAqB,GAAGD,OAAO,CAAC,qBAAD,CAAnC;;AACA,IAAIE,OAAO,GAAG,IAAID,qBAAqB,CAACE,WAA1B,CAAsC,OAAtC,CAAd;AACA,IAAIC,OAAO,GAAG,IAAIH,qBAAqB,CAACI,WAA1B,CAAsC,OAAtC,CAAd;;AACA,SAASC,MAAT,CAAgBC,GAAhB,EAAqB;AACjB,SAAO,IAAIR,aAAa,CAACS,OAAlB,CAA0BN,OAAO,CAACI,MAAR,CAAeC,GAAf,EAAoBE,MAA9C,CAAP;AACH;;AACD,SAASC,MAAT,CAAgBD,MAAhB,EAAwBE,MAAxB,EAAgC;AAC5B,MAAIF,MAAM,YAAYV,aAAa,CAACS,OAApC,EAA6C;AACzC,WAAOJ,OAAO,CAACM,MAAR,CAAeD,MAAM,CAACG,QAAP,CAAgBC,IAAI,CAACC,GAAL,CAASH,MAAT,EAAiBF,MAAM,CAACE,MAAP,GAAgBF,MAAM,CAACM,QAAxC,CAAhB,CAAf,CAAP;AACH,GAFD,MAGK;AACD;AACA,QAAIC,MAAM,GAAG,IAAIjB,aAAa,CAACS,OAAlB,CAA0BG,MAA1B,CAAb;;AACA,SAAK,IAAIM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGN,MAApB,EAA4BM,CAAC,EAA7B,EAAiC;AAC7BD,MAAAA,MAAM,CAACE,UAAP,CAAkBT,MAAM,CAACU,SAAP,EAAlB;AACH;;AACDH,IAAAA,MAAM,CAACI,KAAP;AACA,WAAOhB,OAAO,CAACM,MAAR,CAAeM,MAAM,CAACJ,QAAP,CAAgBD,MAAhB,CAAf,CAAP;AACH;AACJ;;AACDd,OAAO,CAACW,OAAR,GAAkB;AACdF,EAAAA,MAAM,EAAEA,MADM;AAEdI,EAAAA,MAAM,EAAEA;AAFM,CAAlB","sourcesContent":["\"use strict\";\n/**\n * Copyright (c) \"Neo4j\"\n * Neo4j Sweden AB [http://neo4j.com]\n *\n * This file is part of Neo4j.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar browser_buf_1 = __importDefault(require(\"./browser-buf\"));\nvar text_encoding_utf_8_1 = require(\"text-encoding-utf-8\");\nvar encoder = new text_encoding_utf_8_1.TextEncoder('utf-8');\nvar decoder = new text_encoding_utf_8_1.TextDecoder('utf-8');\nfunction encode(str) {\n    return new browser_buf_1.default(encoder.encode(str).buffer);\n}\nfunction decode(buffer, length) {\n    if (buffer instanceof browser_buf_1.default) {\n        return decoder.decode(buffer.readView(Math.min(length, buffer.length - buffer.position)));\n    }\n    else {\n        // Copy the given buffer into a regular buffer and decode that\n        var tmpBuf = new browser_buf_1.default(length);\n        for (var i = 0; i < length; i++) {\n            tmpBuf.writeUInt8(buffer.readUInt8());\n        }\n        tmpBuf.reset();\n        return decoder.decode(tmpBuf.readView(length));\n    }\n}\nexports.default = {\n    encode: encode,\n    decode: decode\n};\n"]},"metadata":{},"sourceType":"script"}